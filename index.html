<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hash Gallery</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body onselectstart="return false">
    <div class="container" id="container">
        <div id=photo_{{index}} class="photo photo-center photo-front" onclick="turn(this)">
            <div class="photo-wrap">
                <div class="side side-front">
                    <p class="image"><img src="images/{{img}}"></p>
                    <p class="caption">{{caption}}</p>
                </div>
                <div class="side side-back">
                    <p class="desc">{{desc}}</p>
                </div>
            </div>
        </div>
    </div>
    <script src="js/data.js"></script>
    <script>
    	function $(selector){
    		var method = selector.substr(0,1) == '.' ? 'getElementsByClassName' : 'getElementById';
    		return document[method](selector.substr(1));
    	}
    	var data = data;
    	function addPhotos(){
    		var template = $('#container').innerHTML;
    		var html = [];
    		for(i in data){
    			var _html = template
    											.replace('{{index}}',i)
								    			.replace('{{img}}',data[i].img)
								    			.replace('{{caption}}',data[i].caption)
								    			.replace('{{desc}}',data[i].desc);
					html.push(_html)
    		}
    		$('#container').innerHTML = html.join('')
    	}
    	addPhotos();
    	function turn(ele){
				var clas = ele.className;
				if(/photo-front/.test(clas)){
					clas = clas.replace(/photo-front/,'photo-back')
				}else{
					clas = clas.replace(/photo-back/,'photo-front')
				}
				return ele.className = clas;
			}
    </script>
</body>

</html>
